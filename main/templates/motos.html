{% extends 'base.html' %}

{% load static %}
{% load humanize %}
{% load mathfilters %}

{% load widget_tweaks %}

{% block title%} Motos {% endblock %}

{% block style %}
<link rel="stylesheet" href="{% static 'css/style_motos.css' %}"> {% endblock %}

{% block sobre %} {% url 'index' %}#link-sobre {% endblock %}
{% block contato %} {% url 'index' %}#link-contato {% endblock %}

{% block main %}

<main>
  <div class="container-fluid">
    <nav class="row"
      style="--bs-breadcrumb-divider: url(&#34;data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E&#34;);"
      aria-label="breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="{% url 'index' %}">Início</a></li>
        <li class="breadcrumb-item active" aria-current="page">Motos</li>
      </ol>
    </nav>

    <div class="titulos row">
      <h2>Motos</h2>
    </div>

    <div class="d-flex justify-content-end">
      <form class="d-flex filtro" action="{% url 'motos' %}" id="myForm" method="post">
        {% csrf_token %}
        {{ selectform }}
        <!-- <select class="form-select form-select-sm row filtro" name="selecao" id="id_selecao">
          <option value="1">Adicionados recentemente</option>
          <option value="2">Maior preço</option>
          <option value="3">Menor preço</option>
        </select> -->

        <button name="selectBt" class="btn btn-success" type="submit">Filtrar</button>
      </form>

    </div>
    </form>

  </div>
  </div>
  <section class="container-fluid section-motos">
    <div class="row">

      <div class="col-xl-2">
        <form class="form-filtro" action="" method="post">
          {% csrf_token %}


          <label class="title-check" for="preco">Preço</label>
          <div class="col-xl-12">
            <div>
              <input class="form-check-input" type="checkbox" name="ate10" id="id_ate10">
              <label for="ate10">Até R$ 10.000,00</label>
            </div>
            <div>
              <input class="form-check-input" type="checkbox" name="mais10" id="id_mais10">
              <label for="mais10">Mais de R$ 10.000,00</label>
            </div>
          </div>
          <hr>


          <label class="title-check" for="marca">Marca</label>
          <div class="col-xl-12">
            <div>
              <input class="form-check-input" type="checkbox" name="honda" id="id_honda">
              <label for="honda">Honda</label>
            </div>

            <div>
              <input class="form-check-input" type="checkbox" name="yamaha" id="id_yamaha">
              <label for="yamaha">Yamaha</label>
            </div>
          </div>
          <hr>

          <label class="title-check" for="cilindradas">Cilindradas</label>
          <div class="col-xl-12">
            <div>
              <input class="form-check-input" type="checkbox" name="c100" id="id_c100">
              <label for="c100">100c</label>
            </div>

            <div>
              <input class="form-check-input" type="checkbox" name="c125" id="id_c125">
              <label for="c125">125c</label>
            </div>

            <div>
              <input class="form-check-input" type="checkbox" name="c150" id="id_c150">
              <label for="c150">150c</label>
            </div>

            <div>
              <input class="form-check-input" type="checkbox" name="c160" id="id_c160">
              <label for="c160">160c</label>
            </div>

            <div>
              <input class="form-check-input" type="checkbox" name="c250" id="id_c250">
              <label for="c250">250c</label>
            </div>

            <div>
              <input class="form-check-input" type="checkbox" name="c300" id="id_c300">
              <label for="c300">300c</label>
            </div>

          </div>
          <hr>
          <div class="col-xl-12">

            <button name="checkboxBt" type="submit" class="btn btn-success bt-buscar">Buscar</button>
          </div>
        </form>
      </div>

      <div class="col-xl-10">

        <section class="container-fluid">
          <div class="row d-flex">
            {% for moto in motos %}
            <div class="cartao col-xl-3 col-lg-4 col-md-4 col-sm-6 col-8">
              <a class="" href="{% url 'detalhes' moto.id %}">
                <div class="card-moto">
                  <p class="marca">{{ moto.marca }}</p>
                  <p class="modelo">{{ moto.modelo }} {{ moto.cilindradas }}c</p>

                  <center>
                    <img class="img-fluid img-card" src="/media/{{ moto.imagens.imagem_sem_fundo }}" alt="">
                  </center>

                  <p class="valor">Por R$ {{ moto.preco|intcomma  }}</p>
                  <p class="vista">à vista <span>(com de desconto)</span></p>
                  <p class="prazo">ou 18x de R$ {{ moto.preco|mul:1.025|div:18|floatformat:2 }} com juros</p>
                </div>
              </a>
            </div>
            {% empty %}
            <h5 class="empty">Nenhuma moto encontrada...</h5>
            {% endfor %}
          </div>
        </section>

      </div>
    </div>

  </section>
  <div class="container">
    <div class="row ">
      <ul class="pagination justify-content-md-center">

        {% if motos.has_previous %}

        {% if request.GET.search %}
        <li class="page-item">
          <a href="?page={{ motos.previous_page_number }}&search={{ request.GET.search }}"
            class="page-link">Anterior</a>
        </li>
        {% else %}
        <li class="page-item">
          <a href="?page={{ motos.previous_page_number }}" class="page-link">Anterior</a>
        </li>
        {% endif %}


        {% endif %}

        <li class="page-item"><span class="page-link"> Página {{ motos.number }} de
            {{ motos.paginator.num_pages }}</span></li>

        {% if motos.has_next %}

        {% if request.GET.search %}
        <li class="page-item">
          <a class="page-link" href="?page={{ motos.next_page_number }}&search={{ request.GET.search }}">Próximo</a>
        </li>
        {% else %}
        <li class="page-item">
          <a class="page-link" href="?page={{ motos.next_page_number }}">Próximo</a>
        </li>
        {% endif %}

        {% endif %}

      </ul>
    </div>
  </div>






  <!-- 
  <div class="container">
    <div class="row justify-content-md-center">
      <ul class="pagination col-sm-2">

        {% if motos.has_previous %}

        <li class="page-item">
          <a href="?page={{ motos.previous_page_number }}" class="page-link">Anterior</a>
        </li>
        {% else %}
        <li class="page-item disabled">
          <a class="page-link">Anterior</a>
        </li>
        {% endif %}

        {% for num in motos.paginator.page_range %}

        {% if num == motos.number %}
        <li class="page-item active text-bg-warning"><a class="page-link" href="#">{{ num }}</a></li>
        {% else %}
        <li class="page-item"><a class="page-link" href="?page={{ num }}">{{ num }}</a></li>
        {% endif %}

        {% endfor %}

        {% if motos.has_next %}
        <li class="page-item">
          <a class="page-link" href="?page={{ motos.next_page_number }}">Próximo</a>
        </li>
        {% else %}
        <li class="page-item disabled">
          <a class="page-link" href="#">Próximo</a>
        </li>
        {% endif %}
      </ul>
    </div>
  </div> -->




</main>

{% endblock %}